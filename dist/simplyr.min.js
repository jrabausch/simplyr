(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Controls=function(){function t(t){this.dragging=!1,this.player=t,this.rangeElement=document.querySelector('input[type="range"]'),this.timeElement=document.querySelector(".timeline .time"),this.durationElement=document.querySelector(".timeline .duration"),this.rangeElement.addEventListener("change",this.rangeChange.bind(this)),this.rangeElement.addEventListener("input",this.rangeInput.bind(this))}return t.prototype.rangeChange=function(){this.dragging=!1;var t=parseInt(this.rangeElement.value,10);this.player.jumpTo(t)},t.prototype.rangeInput=function(){this.dragging=!0;var t=parseInt(this.rangeElement.value,10);this.timeElement.innerHTML=this.htmlTime(t)},t.prototype.htmlTime=function(t){var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return n+":"+(i<10?"0"+i:i)},t.prototype.setCurrentTime=function(t){this.dragging||(this.rangeElement.value=t.toString(),this.timeElement.innerHTML=this.htmlTime(t))},t.prototype.setDuration=function(t){this.rangeElement.max=t.toString(),this.durationElement.innerHTML=this.htmlTime(t)},t}();exports.default=Controls;

},{}],2:[function(require,module,exports){
"use strict";var __extends=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var PlayPauseEvent=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.create=function(t,n,o){return new CustomEvent(e.type,{detail:{title:t,sub:n,audio:o}})},e.type="play-pause",e}(CustomEvent);exports.default=PlayPauseEvent;

},{}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Controls_1=require("./Controls"),PlayPauseEvent_1=require("./PlayPauseEvent"),Player=function(){function t(){this.currentTarget=null,this.audioElement=document.createElement("audio"),this.audioElement.preload="metadata",this.audioElement.addEventListener("timeupdate",this.onTimeupdate.bind(this)),this.audioElement.addEventListener("loadedmetadata",this.onLoadedmetadata.bind(this)),this.audioElement.addEventListener("ended",this.onEnded.bind(this)),document.documentElement.addEventListener(PlayPauseEvent_1.default.type,this.onPlayPause.bind(this),!0),this.controls=new Controls_1.default(this)}return t.prototype.onPlayPause=function(t){var e=t,i=e.target;if(this.currentTarget!==i){var n=e.detail.audio;this.loadAudio(n),this.currentTarget=i}this.togglePlay()},t.prototype.onTimeupdate=function(t){this.controls.setCurrentTime(this.audioElement.currentTime)},t.prototype.onLoadedmetadata=function(t){this.controls.setCurrentTime(0),this.controls.setDuration(this.audioElement.duration)},t.prototype.isPlaying=function(){return!this.audioElement.paused},t.prototype.onEnded=function(t){this.pause(),this.audioElement.currentTime=0},t.prototype.togglePlay=function(){this.isPlaying()?this.pause():this.play()},t.prototype.loadAudio=function(t){this.pause(),this.audioElement.src=t,this.audioElement.load()},t.prototype.setTargetPlaying=function(t){this.currentTarget&&(this.currentTarget.dataset.playing=t?"true":"false")},t.prototype.play=function(){this.audioElement.play(),this.setTargetPlaying(!0)},t.prototype.pause=function(){this.audioElement.pause(),this.setTargetPlaying(!1)},t.prototype.jumpTo=function(t){this.audioElement.currentTime=t},t.prototype.seek=function(t){this.audioElement.currentTime+=t},t}();exports.default=Player;

},{"./Controls":1,"./PlayPauseEvent":2}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PlayPauseEvent_1=require("./PlayPauseEvent"),Track=function(){function e(e){this.element=e,this.element.addEventListener("click",this.onClick.bind(this))}return e.prototype.onClick=function(e){var t=this.element.dataset.title||"",n=this.element.dataset.sub||"",a=this.element.dataset.audio||"",i=PlayPauseEvent_1.default.create(t,n,a);this.element.blur(),this.element.dispatchEvent(i)},e}();exports.default=Track;

},{"./PlayPauseEvent":2}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTrack=exports.createPlayer=void 0;var Player_1=require("./Player"),Track_1=require("./Track"),createPlayer=function(){return new Player_1.default};exports.createPlayer=createPlayer;var createTrack=function(e){return new Track_1.default(e)};exports.createTrack=createTrack,function(){(0,exports.createPlayer)();document.querySelectorAll(".playpause").forEach(function(e){(0,exports.createTrack)(e)})}();

},{"./Player":3,"./Track":4}]},{},[5]);
